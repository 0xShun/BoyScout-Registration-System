{% extends 'base_sidebar.html' %}
{% load static %}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/admin-enhanced.css' %}">
<style>
    /* Flat Design for Delete Confirmation */
    .delete-warning-card {
        background: white;
        border: 1px solid #e5e7eb;
        border-radius: 8px;
        padding: 48px 32px;
        text-align: center;
        margin-bottom: 24px;
    }
    
    .delete-icon {
        font-size: 4rem;
        color: #dc2626;
        margin-bottom: 24px;
    }
    
    .delete-title {
        color: #dc2626;
        font-size: 1.75rem;
        font-weight: 700;
        margin-bottom: 12px;
    }
    
    .delete-message {
        color: #6b7280;
        font-size: 1.05rem;
        margin: 0;
    }
    
    .delete-preview-card {
        background: white;
        border: 1px solid #e5e7eb;
        border-radius: 8px;
        margin-bottom: 24px;
        overflow: hidden;
    }
    
    .delete-preview-header {
        background: #fef2f2;
        border-bottom: 2px solid #dc2626;
        padding: 20px 24px;
    }
    
    .delete-preview-header h5 {
        color: #7f1d1d;
        font-size: 1.125rem;
        font-weight: 600;
        margin: 0;
    }
    
    .delete-preview-header i {
        margin-right: 8px;
    }
    
    .delete-preview-body {
        padding: 32px 24px;
    }
    
    .delete-preview-title {
        color: #1e3a8a;
        font-size: 1.5rem;
        font-weight: 700;
        margin-bottom: 24px;
    }
    
    .delete-meta-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 16px;
        margin-bottom: 24px;
    }
    
    .delete-meta-item {
        display: flex;
        align-items: center;
        gap: 12px;
    }
    
    .delete-meta-item i {
        font-size: 1.5rem;
        color: #3b82f6;
    }
    
    .delete-meta-item div small {
        color: #6b7280;
        font-size: 0.875rem;
        display: block;
        margin-bottom: 4px;
    }
    
    .delete-meta-item div strong {
        color: #1f2937;
        font-size: 0.95rem;
    }
    
    .delete-message-preview {
        background: #f9fafb;
        border: 1px solid #e5e7eb;
        border-left: 4px solid #6b7280;
        padding: 20px;
        border-radius: 6px;
        color: #4b5563;
        line-height: 1.6;
    }
    
    .delete-warning-points {
        background: white;
        border: 1px solid #e5e7eb;
        border-radius: 8px;
        padding: 24px;
        margin-bottom: 24px;
    }
    
    .delete-warning-points h5 {
        color: #dc2626;
        font-size: 1.125rem;
        font-weight: 600;
        margin-bottom: 20px;
    }
    
    .delete-warning-points h5 i {
        margin-right: 8px;
    }
    
    .delete-warning-points ul {
        list-style: none;
        padding: 0;
        margin: 0;
    }
    
    .delete-warning-points li {
        color: #4b5563;
        font-size: 0.95rem;
        padding: 12px 16px;
        background: #fef2f2;
        border-left: 4px solid #dc2626;
        border-radius: 4px;
        margin-bottom: 12px;
    }
    
    .delete-warning-points li:last-child {
        margin-bottom: 0;
    }
    
    .delete-warning-points li i {
        color: #dc2626;
        margin-right: 10px;
    }
    
    .delete-actions {
        display: flex;
        gap: 12px;
        justify-content: center;
    }
    
    .btn-go-back {
        padding: 14px 32px;
        background: white;
        color: #6b7280;
        border: 1px solid #d1d5db;
        border-radius: 6px;
        text-decoration: none;
        font-weight: 500;
        display: inline-flex;
        align-items: center;
        gap: 8px;
    }
    
    .btn-go-back:hover {
        background: #f9fafb;
        color: #6b7280;
    }
    
    .btn-confirm-delete {
        padding: 14px 32px;
        background: #dc2626;
        color: white;
        border: none;
        border-radius: 6px;
        font-weight: 500;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        cursor: pointer;
    }
    
    .btn-confirm-delete:hover {
        background: #b91c1c;
    }
</style>
{% endblock %}

{% block title %}Delete Announcement{% endblock %}

{% block content %}
<div class="container-fluid py-4">
    <!-- Page Header -->
    <div class="page-header" style="background: linear-gradient(135deg, #7f1d1d 0%, #dc2626 50%, #ef4444 100%);">
      <h2><i class="fas fa-exclamation-triangle"></i> Delete Announcement</h2>
      <p>Confirm permanent deletion of this announcement</p>
    </div>
    
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <!-- Warning Card -->
            <div class="delete-warning-card">
                <div class="delete-icon">
                    <i class="fas fa-exclamation-triangle"></i>
                </div>
                <h3 class="delete-title">Are You Sure?</h3>
                <p class="delete-message">
                    You are about to permanently delete this announcement.
                </p>
            </div>
            
            <!-- Announcement Preview Card -->
            <div class="delete-preview-card">
                <div class="delete-preview-header">
                    <h5>
                        <i class="fas fa-file-alt"></i> Announcement to be Deleted
                    </h5>
                </div>
                <div class="delete-preview-body">
                    <h4 class="delete-preview-title">
                        {{ announcement.title }}
                    </h4>
                    
                    <div class="delete-meta-grid">
                        <div class="delete-meta-item">
                            <i class="fas fa-calendar"></i>
                            <div>
                                <small>Posted On</small>
                                <strong>{{ announcement.date_posted|date:"M d, Y" }}</strong>
                            </div>
                        </div>
                        <div class="delete-meta-item">
                            <i class="fas fa-eye"></i>
                            <div>
                                <small>Times Read</small>
                                <strong>{{ announcement.read_by.count }}</strong>
                            </div>
                        </div>
                    </div>
                    
                    <div class="delete-message-preview">
                        {{ announcement.message|truncatewords:50 }}
                    </div>
                </div>
            </div>
            
            <!-- Warning Points Card -->
            <div class="delete-warning-points">
                <h5>
                    <i class="fas fa-exclamation-circle"></i> Important Notice
                </h5>
                <ul>
                    <li>
                        <i class="fas fa-ban"></i>
                        This action cannot be undone
                    </li>
                    <li>
                        <i class="fas fa-users-slash"></i>
                        All recipients will no longer have access to this announcement
                    </li>
                    <li>
                        <i class="fas fa-database"></i>
                        All related data including read statistics will be permanently removed
                    </li>
                </ul>
            </div>
            
            <!-- Action Buttons -->
            <form method="post" style="margin-bottom: 32px;">
                {% csrf_token %}
                <div class="delete-actions">
                    <a href="{% url 'announcements:announcement_list' %}" class="btn-go-back">
                        <i class="fas fa-arrow-left"></i> Go Back
                    </a>
                    <button type="submit" class="btn-confirm-delete">
                        <i class="fas fa-trash"></i> Yes, Delete Permanently
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}
