{% extends 'base.html' %}
{% load static %}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/admin-enhanced.css' %}">
<style>
  @keyframes warningPulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
  }
  .warning-icon-animated {
    animation: warningPulse 1.5s ease-in-out infinite;
  }
</style>
{% endblock %}

{% block content %}
  <div class="container-fluid py-4">
    <div class="row justify-content-center">
      <div class="col-lg-6 col-md-8">
        <!-- Warning Card -->
        <div class="enhanced-card mt-5" style="border-top: 5px solid #dc2626;">
          <div class="card-body text-center py-5">
            <!-- Warning Icon -->
            <div class="mb-4 warning-icon-animated">
              <div class="d-inline-flex align-items-center justify-content-center" 
                   style="background: linear-gradient(135deg, #dc2626 0%, #ef4444 100%); width: 100px; height: 100px; border-radius: 50%; box-shadow: 0 8px 24px rgba(220, 38, 38, 0.3);">
                <i class="fas fa-exclamation-triangle text-white" style="font-size: 3rem;"></i>
              </div>
            </div>
            
            <h2 class="fw-bold mb-3" style="background: linear-gradient(135deg, #dc2626 0%, #ef4444 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">
              Delete Member
            </h2>
            
            <p class="lead mb-4 text-muted">
              Are you sure you want to delete this member?
            </p>
            
            <!-- Member Info Card -->
            <div class="alert-enhanced alert-enhanced-warning mx-auto mb-4" style="max-width: 450px; text-align: left;">
              <h6 class="fw-bold mb-3">
                <i class="fas fa-user me-2"></i> Member Information
              </h6>
              <div class="row g-2">
                <div class="col-12">
                  <div style="background: white; padding: 1rem; border-radius: 8px; border-left: 3px solid #dc2626;">
                    <div class="d-flex align-items-center gap-2 mb-2">
                      <i class="fas fa-user-circle text-danger" style="font-size: 1.5rem;"></i>
                      <div>
                        <strong style="color: #dc2626;">{{ member.get_full_name|default:member.username }}</strong>
                        <p class="mb-0 small text-muted">{{ member.email }}</p>
                      </div>
                    </div>
                    {% if member.get_role_display %}
                      <div class="mt-2">
                        <span class="status-badge status-active">
                          <i class="fas fa-id-badge"></i> {{ member.get_role_display }}
                        </span>
                      </div>
                    {% endif %}
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Warning Message -->
            <div class="alert-enhanced alert-enhanced-danger mx-auto mb-4" style="max-width: 450px;">
              <h6 class="fw-bold mb-3">
                <i class="fas fa-exclamation-circle me-2"></i> Warning: This action cannot be undone!
              </h6>
              <p class="mb-2 small text-start">Deleting this member will:</p>
              <ul class="mb-0 mt-2 text-start small">
                <li class="mb-2">
                  <i class="fas fa-times text-danger"></i> 
                  Remove all member data permanently
                </li>
                <li class="mb-2">
                  <i class="fas fa-times text-danger"></i> 
                  Delete payment history and records
                </li>
                <li class="mb-2">
                  <i class="fas fa-times text-danger"></i> 
                  Remove event registrations and attendance
                </li>
                <li class="mb-2">
                  <i class="fas fa-times text-danger"></i> 
                  Erase all associated documents and files
                </li>
              </ul>
            </div>
            
            <!-- Action Buttons -->
            <form method="post" class="mt-4">
              {% csrf_token %}
              <div class="d-grid gap-2">
                <button type="submit" class="btn-enhanced-danger" style="font-size: 1.1rem; padding: 1rem;">
                  <i class="fas fa-trash-alt me-2"></i> Yes, Delete This Member
                </button>
                <a href="{% url 'accounts:member_list' %}" class="btn btn-secondary" style="padding: 0.875rem 1.5rem; border-radius: 12px; font-weight: 600; font-size: 1.05rem;">
                  <i class="fas fa-times me-2"></i> No, Cancel
                </a>
              </div>
            </form>
            
            <!-- Help Text -->
            <div class="mt-4 pt-4" style="border-top: 2px solid #f3f4f6;">
              <p class="text-muted small mb-0">
                <i class="fas fa-info-circle"></i> 
                If you're unsure, you can <strong>deactivate</strong> the member instead of deleting.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
{% endblock %}
