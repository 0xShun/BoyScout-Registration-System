{% extends 'base.html' %}
{% block content %}
  <div class="row justify-content-center">
    <div class="col-lg-8">
      <h2 class="mb-4">Submit Payment</h2>
      
      <!-- QR Code Section -->
      {% if active_qr_code %}
        <div class="card shadow-sm mb-4">
          <div class="card-header">
            <h5 class="mb-0">
              <i class="fas fa-qrcode"></i> Payment QR Code
            </h5>
          </div>
          <div class="card-body">
            <div class="row align-items-center">
              <div class="col-md-4 text-center">
                <img src="{{ active_qr_code.qr_code.url }}" alt="{{ active_qr_code.title }}" class="img-fluid" style="max-width: 200px;">
              </div>
              <div class="col-md-8">
                <h6>{{ active_qr_code.title }}</h6>
                {% if active_qr_code.description %}
                  <p class="text-muted mb-2">{{ active_qr_code.description }}</p>
                {% endif %}
                <div class="alert alert-info mb-0">
                  <strong>Instructions:</strong>
                  <ol class="mb-0 mt-2">
                    <li>Scan the QR code with your GCash app</li>
                    <li>Enter the payment amount</li>
                    <li>Complete the payment</li>
                    <li>Upload your receipt below</li>
                  </ol>
                </div>
              </div>
            </div>
          </div>
        </div>
      {% endif %}
      
      <!-- Payment Form -->
      <div class="card shadow-sm">
        <div class="card-header">
          <h5 class="mb-0">Upload Payment Receipt</h5>
        </div>
        <div class="card-body">
          <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            {% for field in form %}
              <div class="mb-3">
                <label for="{{ field.id_for_label }}" class="form-label fw-bold">{{ field.label }}</label>
                {{ field }}
                {% if field.help_text %}
                  <div class="form-text">{{ field.help_text }}</div>
                {% endif %}
                {% for error in field.errors %}
                  <div class="text-danger">{{ error }}</div>
                {% endfor %}
              </div>
            {% endfor %}
            <button type="submit" class="btn btn-primary w-100 mt-2">
              <i class="fas fa-upload"></i> Submit Payment Receipt
            </button>
          </form>
        </div>
      </div>
    </div>
  </div>
{% endblock %} 